<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN">

<html lang="en">

	<head>
		<title>Webclient Index Page</title>
		<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" />
		<link rel="stylesheet" href="default.css" type="text/css" />
	
      <script type="text/javascript" src="org_myurc_autoindex.js">
	      // Defines functions for auto-indexing.
      </script>

      <script type="text/javascript" src="org_myurc_urchttp.js">
	      // Defines primitive URC-HTTP functions.
      </script>

      <script type="text/javascript" src="org_myurc_urchttp_test.js">
	      // Defines test cases, but only if file is read from local file system (URL scheme == "file:").  
      </script>

		<script type="text/javascript" src="org_myurc_lib.js">
			// Defines utility functions.
		</script>
			
		<script type="text/javascript">		// Functions specific to this page.
		   /**
		    Author: Gottfried Zimmermann, ATG
		    Last modified: 2009-08-07
		    */
		
         function init() {
            try {
            
               org_myurc_autoindex_buildSocketList(document.getElementById("controllerList_"));
              
            }
	         catch (ex) {
	            div = document.getElementById("error_");
	            if (div !== null)
	               div.innerHTML += "<p>" + (typeof ex === "string" ? ex : ex.message) + "<\/p>";
	         }
         }
         
         function toggleLog() {
            var log = (document.getElementById("log_").className == "logshown");
            if (log) {
               log = false;
               document.getElementById("logbutton_").innerHTML = "Show URC-HTTP Log";
               document.getElementById("log_").className = "loghidden";
            }
            else {
               log = true;
               document.getElementById("logbutton_").innerHTML = "Hide URC-HTTP Log";
               document.getElementById("log_").className = "logshown";
            }
         }
         
		</script>
		
	</head>
	
	<body onload="init()">
		<h1>i2home Web Client Index Page</h1>
		
		<p>Choose from any of the following user interfaces:</p>
		
		<div id="controllerList_">
		</div>
		
		<hr />
		
		<p>Please note:</p>
		
		<ul>
		<li>You need to have JavaScript enabled in your browser.</li>
		<li>Tip: Click on any of the above controller pages while holding down the CTRL key.  That will
		   create a new tab for every controller page.</li>
		<li>Tip: You can change the font size by pressing CTRL and + (simultaneously) or CTRL and -.</li>
		<li>By default, a controller page is polling for updates from the UCH every 2 seconds.  You can disable automatic 
		   updates, and poll manually (see buttons on the bottom of a controller page).</li>
		<li>Input fields are provided to change the value of variables.  You will have to know valid values in order to 
		   change them, otherwise the target may reject them.</li>
		<li>On a controller page, you can close and reopen a session by refreshing the page (press F5).</li>
		<li>Labels are retrieved from resource sheets.  Missing labels are displayed as "{elementId}".  The language of
		   the labels is determined from the &lt;html&gt; element's 'lang' attribute of the corresponding controller html page.</li>
		<li>Notifications are reported on the bottom of the page.  Click the 'OK' button to acknowledge the notification.</li>
		<li>Errors are reported on the bottom of the page, red font on white background.  In most cases, after an error 
		   has occurred, the page is not fully functional any more.</li>
		<li>For debugging purposes, a log of the URC-HTTP messages is available at the bottom of this page, and on the controller page, but
		   hidden by default.  Press the "Show URC-HTTP Log" button to make it visible.  Note that getUpdates messages
		   are only shown in this log if the response was not empty.  (This is to prevent log overflow.)</li>
		<li>If you run this file from the local file system, test cases as defined in org_myurc_urchttp_test.js
		   are executed instead of a real fetch from a UCH.  In this case, the labels will be displayed as
		   {<em>"id"</em>} only (with {<em>"id"</em>} being the socket name (URI) or the value of the 'id' attribute of the pertaining
		   socket element).</li>
		<li>Please report bugs to <a href="mailto:zimmer@trace.wisc.edu">Gottfried Zimmermann.</a></li>
		</ul>
		
		<p class="footer">		
      This software is licensed under the CC-GNU GPL.<br> 
      Copyright 2007-2009, Access Technologies Group
      </p>

		<hr>
		
		<div id="error_" class="error"></div>

		<p><button id="logbutton_" onclick="toggleLog();" onkeypress="toggleLog();">Show URC-HTTP Log</button></p>
		
		<div id="log_" class="loghidden"></div>

	</body>
</html>
